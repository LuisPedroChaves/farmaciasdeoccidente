import { Component, Input, OnInit } from '@angular/core';
import { Router } from '@angular/router';
import { CellarItem } from 'src/app/core/models/Cellar';
import { CellarService } from 'src/app/core/services/httpServices/cellar.service';

@Component({
  selector: 'app-new-payroll',
  templateUrl: './new-payroll.component.html',
  styleUrls: ['./new-payroll.component.scss']
})
export class NewPayrollComponent implements OnInit {
  @Input() smallScreen: boolean;

  selectedCellars: any[] = [];
  cellars: CellarItem[];

  bonusExpand: boolean = false;
  igssExpand: boolean = false;
  discountsExpand: boolean = false;







  /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  // HOOK FUNCTIONS //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  constructor(public router: Router, public cellarsService: CellarService) { }

  ngOnInit(): void {
    this.cellarsService.readData().subscribe(data => {
      this.cellars = data;
      this.cellars.forEach(c => { this.selectedCellars.push(c._id); });
    });
  }


  ngAfterContentInit() {
    this.cellarsService.loadData();
  }





  back() {
    this.router.navigate(['admin', 'payroll']);
  }









  /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  // PAYROLL FUNCTIONS ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  generatePayroll() {}
  generateIGSS() {}
  generatePayrollEmployee() {}



  /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  // PRINT FUNCTIONS /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  printPayroll() {}
}
