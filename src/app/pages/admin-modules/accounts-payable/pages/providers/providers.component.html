<mat-drawer-container class="my-layout">
    <mat-drawer #drawer class="sidenav" position="end" mode="over">
        <header fxLayout="row wrap" fxLayoutAlign="start center">
            <h2 class="ma-0">{{title}}</h2>
            <span fxFlex></span>
            <button mat-icon-button (click)="drawer.opened = false">
        <mat-icon>close</mat-icon>
      </button>
        </header>
        <app-new-edit *ngIf="drawerComponent === 'DOCUMENTO'" [accountsPayable]="accountsPayable" (close)="drawer.opened = false"></app-new-edit>
        <app-provider-account *ngIf="drawerComponent === 'PROVEEDOR'" [provider]="provider" (close)="drawer.opened = false"></app-provider-account>
    </mat-drawer>
    <header>
        <app-filter></app-filter>
        <span fxFlex></span>
        <button mat-fab color="warn" [matMenuTriggerFor]="payablesMenu" matTooltip="Nuevo documento">
      <mat-icon>add</mat-icon>
    </button>
        <mat-menu #payablesMenu="matMenu" xPosition="before">
            <button mat-menu-item (click)="newDocument('PRODUCTOS')">
        <mat-icon>medication</mat-icon>
        <span>Productos</span>
      </button>
            <button mat-menu-item (click)="newDocument('GASTOS')">
        <mat-icon>payments</mat-icon>
        <span>Gastos</span>
      </button>
        </mat-menu>
    </header>
    <ngx-simplebar class="content">
        <mat-progress-bar *ngIf="loading" mode="indeterminate" color="warn"></mat-progress-bar>
        <div fxLayout="row wrap" fxLayoutGap="15px grid" class="grid">
            <div fxFlex.gt-lg="20" fxFlex.gt-md="33" fxFlex.gt-sm="50" fxFlex.lt-md="100" *ngFor="let provider of providers; let i = index">
                <mat-card matRipple (click)="selectProvider(provider)" class="cursor-pointer mat-elevation-z0" [ngClass]="{'mat-elevation-z4': i === indexHovered}" (mouseenter)="indexHovered = i" (mouseleave)="indexHovered = -1">
                    <mat-card-header>
                        <mat-icon matCardAvatar>business</mat-icon>
                        <mat-card-title>{{ provider.nit }}</mat-card-title>
                        <mat-card-subtitle>{{ provider.name }}</mat-card-subtitle>
                    </mat-card-header>
                    <mat-card-content>
                        <p>Tel: <b>{{ provider.phone }}</b></p>
                        <p>{{ provider.creditDays }} días de crédito</p>
                        <mat-chip-list *ngIf="provider.iva || provider.isr">
                            <mat-chip *ngIf="provider.iva">Retención de IVA</mat-chip>
                            <mat-chip *ngIf="provider.isr">Retención de ISR</mat-chip>
                        </mat-chip-list>
                        <br>
                        <div fxLayout="row" fxLayoutAlign="space-between center">
                            <span>Saldo</span>
                            <span>Crédito</span>
                        </div>
                        <mat-progress-bar mode="determinate" value="40" color="warn"></mat-progress-bar>
                        <div fxLayout="row" fxLayoutAlign="space-between center">
                            <b>Q40.00</b> Q100.00
                        </div>
                    </mat-card-content>
                </mat-card>
            </div>
        </div>
    </ngx-simplebar>
</mat-drawer-container>